(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{5990:(e,t,a)=>{Promise.resolve().then(a.bind(a,1351))},3271:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(4884),r=a(4843),n=a(6244);function i(e){let{flavorProfile:t,t:a,color:i}=e,l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!l.current||!t)return;let e=n.Ltv(l.current);e.selectAll("*").remove();let s=e.append("g").attr("transform","translate(".concat(150,",").concat(150,")")),r=2*Math.PI/5,o=n.m4Y().domain([0,10]).range([0,100]);for(let e=1;e<=5;e++){let t=e/5;s.append("circle").attr("r",100*t).attr("class","gridCircle").style("fill","none").style("stroke","#374151").style("stroke-width","0.5")}for(let e=0;e<5;e++){let t=r*e;s.append("line").attr("x1",0).attr("y1",0).attr("x2",100*Math.cos(t-Math.PI/2)).attr("y2",100*Math.sin(t-Math.PI/2)).attr("class","line").style("stroke","#70717a").style("stroke-width","0.5")}let c=[t.booziness,t.sweetness,t.sourness,t.body,t.complexity].map((e,t)=>{let a=r*t-Math.PI/2;return[o(e)*Math.cos(a),o(e)*Math.sin(a)]}),d=n.n8j();s.append("path").datum(c).attr("d",d.curve(n.Lx9)).attr("fill",i).attr("stroke",i).attr("stroke-width",2);let m=[a.booziness,a.sweetness,a.sourness,a.body,a.complexity];for(let e=0;e<5;e++){let t=r*e-Math.PI/2,a=120*Math.cos(t),n=120*Math.sin(t);s.append("text").attr("x",a).attr("y",n).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","white").style("font-size","12px").text(m[e])}},[t,a,i]),(0,s.jsx)("svg",{ref:l,width:300,height:300,viewBox:"0 0 ".concat(300," ").concat(300),className:"mx-auto"})}},1351:(e,t,a)=>{"use strict";a.d(t,{TwistFinder:()=>j});var s=a(4884),r=a(4843),n=a(8760),i=a(6838),l=a(7265),o=a(7367),c=a(5959);function d(e,t){if(!e||!t||!Array.isArray(e)||!Array.isArray(t))return 5;let a=new Set(e.map(e=>{var t;return e?"string"==typeof e?e.toLowerCase():(null===(t=e.name)||void 0===t?void 0:t.en)?e.name.en.toLowerCase():"":""}).filter(Boolean)),s=new Set(t.map(e=>{var t;return e?"string"==typeof e?e.toLowerCase():(null===(t=e.name)||void 0===t?void 0:t.en)?e.name.en.toLowerCase():"":""}).filter(Boolean)),r=0;for(let e of a)!s.has(e)&&r++;for(let e of s)!a.has(e)&&r++;return r}var m=a(3271),f=a(9854),h=a(3890);function x(e){let{cocktail:t}=e,{language:a}=(0,n.o)(),r=i.P[a];return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-4 flex justify-between items-start gap-x-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-4xl mb-1",children:t.name.en}),"zh"===a&&(0,s.jsx)("div",{className:"text-gray-400",children:t.name.zh})]})}),t.flavor_descriptors&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.flavor_descriptors.map((e,t)=>(0,s.jsx)(h.FlavorDescriptor,{descriptor:e,language:a,onClick:e=>e.stopPropagation()},t))})}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(m.default,{flavorProfile:t.flavor_profile,t:r,color:(e=>{var t;if(!(null===(t=e.flavor_descriptors)||void 0===t?void 0:t.length))return"rgba(255, 185, 0, 0.5)";let a=e.flavor_descriptors[0].en.toLowerCase();return f.g[a]||"rgba(255, 185, 0, 0.5)"})(t)})}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-gray-400",children:r.ingredients}),(0,s.jsx)("ul",{className:"mt-1",children:[...t.base_spirits,...t.liqueurs,...t.ingredients].map((e,t)=>(0,s.jsxs)("li",{className:"flex justify-between",children:[e.name[a],(0,s.jsxs)("span",{className:"text-gray-400",children:[e.amount," ",e.unit[a]]})]},t))})]})]})}var u=a(465),p=a(732);function v(e){let{twists:t,baseCocktail:a,onFindAgain:r}=e,{language:o}=(0,n.o)(),c=i.P[o];return(0,s.jsxs)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[(0,s.jsxs)("h2",{className:"text-3xl mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:a.name.en}),(0,s.jsxs)("span",{className:"font-extralight",children:[" ",c.twists]})]}),"zh"===o&&(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:a.name.zh}),(0,s.jsx)(l.$,{className:"mb-8",onClick:r,children:c.reset}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((e,t)=>{let{cocktail:a,distance:r}=e;return(0,s.jsx)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,s.jsx)(u.CocktailCard,{cocktail:a,distance:r})},a.name.en)})})]})}var y=a(654);function j(e){let{cocktails:t}=e,{language:a}=(0,n.o)(),m=i.P[a],[f,h]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[j,g]=(0,r.useState)(!1),b=t.map(e=>({label:"".concat(e.name.en," / ").concat(e.name.zh),value:e.name.en})),w=f.length?t.find(e=>e.name.en===f[0]):null;return j&&w?(0,s.jsx)(v,{twists:u,baseCocktail:w,onFindAgain:()=>{g(!1),h([]),p([])}}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl mb-8",children:m.findTwists}),(0,s.jsx)("p",{className:"text-muted-foreground mb-2",children:m.findTwistsDescription}),(0,s.jsxs)("div",{className:"max-w-md mb-8",children:[(0,s.jsx)(o.K,{options:b,value:f,onValueChange:h,placeholder:m.selectCocktail,maxCount:1,enableSelectAll:!1}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsx)(l.$,{className:"flex-1",onClick:()=>{if(!f.length)return;let e=t.find(e=>e.name.en===f[0]);e&&(p(t.filter(e=>e.name.en!==f[0]).map(t=>{let a=0+3*d(Array.isArray(e.flavor_profile)?e.flavor_profile:[],Array.isArray(t.flavor_profile)?t.flavor_profile:[])+2.5*d(Array.isArray(e.flavor_descriptors)?e.flavor_descriptors.map(e=>e.en):[],Array.isArray(t.flavor_descriptors)?t.flavor_descriptors.map(e=>e.en):[])+2*d(e.base_spirits,t.base_spirits)+1.5*d(e.liqueurs,t.liqueurs)+d(e.ingredients,t.ingredients);return{cocktail:t,distance:a}}).sort((e,t)=>e.distance-t.distance).slice(0,10)),g(!0),(0,c.sendGAEvent)("twist_finder",{action:"find_twists",base_cocktail:f[0]}))},disabled:!f.length,children:m.findTwists}),(0,s.jsx)(l.$,{className:"flex-1",variant:"outline",onClick:()=>window.open("/".concat(a,"/cocktails/").concat((0,y.Yv)((null==w?void 0:w.name.en)||"")),"_blank"),disabled:!f.length,children:m.seeMore})]}),w&&(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(x,{cocktail:w})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[563,966,938,319,244,465,344,449,919,358],()=>t(5990)),_N_E=e.O()}]);